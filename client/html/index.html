<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/layout.css">
    <script src="../js/index.js"></script>
    <style>
        #video {width: 400px; height: 300px;}
    </style>
</head>
<body>
    <main>
        <!-- 실시간 감지화면 영역 -->
        <header>
            <h2>실시간 감지화면</h2>
            <h3>경로: </h3>
            <button type="button" onclick="" class="dir-btn">선택</button>
        </header>
        <section>
            <div class="realtime-wrap">
                <!-- 영상 출력 영역-->
                <div class="img-box">
                    <input type="file" id="videoInput">
                    <button type="button" onclick="uploadVideo(event)">Upload</button>
                    <!-- <button type="button" onclick="alert()" class="input-btn">영상/이미지 선택</button> -->
                    <img id="video"></img> 
                </div>
                <!-- 캡쳐 확인 영역 -->
                <div class="cap-box">
                    <ul>
                        <li class="img-mini-box">
                            
                        </li>
                    </ul>
                </div>
            </div>
        </section>
        <!-- 상세 기록 확인 영역 -->
        <header>
            <h2>상세 기록 확인</h2>
        </header>
        <section>
            <div class="detail-wrap">
                <!-- 이미지 출력 영역 -->
                <div class="subimg-box">
                    <div class="img-box2">

                    </div>
                    <div class="plate">
                    
                    </div>
                    <div class="plate-text">
                        
                    </div>
                </div>

                
                <!-- 로그 출력 영역 -->
                <ul class="log-box">
                    <ul>
                        <li>
                            날짜
                        </li>
                        <li>
                            2024-03-13
                        </li>
                    </ul>
                    <ul>
                        <li>
                            시간
                        </li>
                        <li>
                            13:00:00
                        </li>
                    </ul>
                </ul>
            </div>
        </section>
    </main>
    <!-- <script>
        function uploadVideo(event) {
            event.preventDefault();
            var fileInput = document.getElementById('videoInput');
            var file = fileInput.files[0];
            if (!file) {
                console.error('No file selected');
                return;
            }
            var formData = new FormData();
            formData.append('video', file);
            fetch('http://127.0.0.1:8000/upload_video', {
                method: 'POST',
                body: formData
            })
            .then(response => {
                if (response.ok) {
                    console.log('Video uploaded successfully');
                    const video = document.getElementById('video');
                    console.log(file.name)
                    videoUrl = 'http://127.0.0.1:8000/video/?query=${file.name}'
                    video.src = videoUrl;
                } else {
                    console.error('Failed to upload video');
                }
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }
    </script> -->
</body>
</html>